<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó - AssistentNUOS</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #1a1a2e;
            color: white;
        }
        .test-section {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            margin: 10px 0;
            border-radius: 10px;
        }
        .test-button {
            background: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .test-button:hover {
            background: #45a049;
        }
        .test-button.fail {
            background: #f44336;
        }
        .test-result {
            margin: 10px 0;
            padding: 10px;
            border-radius: 5px;
        }
        .success {
            background: rgba(76, 175, 80, 0.2);
            border: 1px solid #4CAF50;
        }
        .error {
            background: rgba(244, 67, 54, 0.2);
            border: 1px solid #f44336;
        }
    </style>
</head>
<body>
    <h1>üîß –¢–µ—Å—Ç —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ AssistentNUOS</h1>
    
    <div class="test-section">
        <h2>üì± –¢–µ—Å—Ç –º–æ–±—ñ–ª—å–Ω–æ–≥–æ –º–µ–Ω—é</h2>
        <button class="test-button" onclick="testMobileMenu()">–¢–µ—Å—Ç—É–≤–∞—Ç–∏ –º–æ–±—ñ–ª—å–Ω–µ –º–µ–Ω—é</button>
        <div id="mobileMenuResult" class="test-result"></div>
    </div>

    <div class="test-section">
        <h2>üöÄ –¢–µ—Å—Ç PWA —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ</h2>
        <button class="test-button" onclick="testPWA()">–¢–µ—Å—Ç—É–≤–∞—Ç–∏ PWA</button>
        <div id="pwaResult" class="test-result"></div>
    </div>

    <div class="test-section">
        <h2>üîó –¢–µ—Å—Ç –ø–µ—Ä–µ—Ö–æ–¥—ñ–≤ –º—ñ–∂ —Å—Ç–æ—Ä—ñ–Ω–∫–∞–º–∏</h2>
        <button class="test-button" onclick="testNavigation()">–¢–µ—Å—Ç—É–≤–∞—Ç–∏ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—é</button>
        <div id="navigationResult" class="test-result"></div>
    </div>

    <div class="test-section">
        <h2>üìä Service Worker —Å—Ç–∞—Ç—É—Å</h2>
        <button class="test-button" onclick="testServiceWorker()">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ Service Worker</button>
        <div id="serviceWorkerResult" class="test-result"></div>
    </div>

    <script>
        function showResult(elementId, message, isSuccess = true) {
            const element = document.getElementById(elementId);
            element.innerHTML = message;
            element.className = `test-result ${isSuccess ? 'success' : 'error'}`;
        }

        function testMobileMenu() {
            try {
                // –°–∏–º—É–ª—é—î–º–æ —Ä–æ–±–æ—Ç—É –º–æ–±—ñ–ª—å–Ω–æ–≥–æ –º–µ–Ω—é
                const hasToggleButton = document.querySelector('.mobile-menu-toggle');
                const hasNavMenu = document.querySelector('.navbar-nav');
                
                if (hasToggleButton && hasNavMenu) {
                    showResult('mobileMenuResult', '‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–±—ñ–ª—å–Ω–æ–≥–æ –º–µ–Ω—é –∑–Ω–∞–π–¥–µ–Ω–∞');
                } else {
                    showResult('mobileMenuResult', '‚ùå –ú–æ–±—ñ–ª—å–Ω–µ –º–µ–Ω—é –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ index.html', false);
                }
            } catch (error) {
                showResult('mobileMenuResult', `‚ùå –ü–æ–º–∏–ª–∫–∞: ${error.message}`, false);
            }
        }

        function testPWA() {
            try {
                const results = [];
                
                // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ manifest
                const manifest = document.querySelector('link[rel="manifest"]');
                results.push(manifest ? '‚úÖ Manifest –∑–Ω–∞–π–¥–µ–Ω–æ' : '‚ùå Manifest –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ');
                
                // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Service Worker
                if ('serviceWorker' in navigator) {
                    results.push('‚úÖ Service Worker –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è');
                } else {
                    results.push('‚ùå Service Worker –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è');
                }
                
                // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ PWA criteria
                const isHTTPS = location.protocol === 'https:' || location.hostname === 'localhost';
                results.push(isHTTPS ? '‚úÖ HTTPS –∞–±–æ localhost' : '‚ùå –ü–æ—Ç—Ä—ñ–±–µ–Ω HTTPS');
                
                showResult('pwaResult', results.join('<br>'));
            } catch (error) {
                showResult('pwaResult', `‚ùå –ü–æ–º–∏–ª–∫–∞: ${error.message}`, false);
            }
        }

        function testNavigation() {
            try {
                const pages = [
                    { name: '–ì–æ–ª–æ–≤–Ω–∞', url: '../index.html' },
                    { name: '–ü—Ä–æ –Ω–∞—Å', url: '../pages/about.html' },
                    { name: '–£–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç', url: '../pages/university.html' },
                    { name: '–†–æ–∑–∫–ª–∞–¥', url: '../pages/schedule.html' },
                    { name: '–ö–µ—Ä—ñ–≤–Ω–∏—Ü—Ç–≤–æ', url: '../pages/leadership.html' },
                    { name: '–°—Ç—É–¥–µ–Ω—Ç—Å—å–∫–µ —Å–∞–º–æ–≤—Ä—è–¥—É–≤–∞–Ω–Ω—è', url: '../pages/student-republic.html' }
                ];
                
                let results = 'üìã –°–ø–∏—Å–æ–∫ —Å—Ç–æ—Ä—ñ–Ω–æ–∫:<br>';
                pages.forEach(page => {
                    results += `<a href="${page.url}" target="_blank" style="color: #4CAF50;">${page.name}</a><br>`;
                });
                
                showResult('navigationResult', results);
            } catch (error) {
                showResult('navigationResult', `‚ùå –ü–æ–º–∏–ª–∫–∞: ${error.message}`, false);
            }
        }

        function testServiceWorker() {
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.getRegistrations().then(registrations => {
                    if (registrations.length > 0) {
                        const sw = registrations[0];
                        let status = '–û—á—ñ–∫—É—î';
                        if (sw.active) {
                            status = '–ê–∫—Ç–∏–≤–Ω–∏–π';
                        } else if (sw.installing) {
                            status = '–í—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è';
                        }
                        showResult('serviceWorkerResult', `‚úÖ Service Worker: ${status}<br>üìÇ Scope: ${sw.scope}`);
                    } else {
                        showResult('serviceWorkerResult', '‚ùå Service Worker –Ω–µ –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–∏–π', false);
                    }
                }).catch(error => {
                    showResult('serviceWorkerResult', `‚ùå –ü–æ–º–∏–ª–∫–∞: ${error.message}`, false);
                });
            } else {
                showResult('serviceWorkerResult', '‚ùå Service Worker –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è –±—Ä–∞—É–∑–µ—Ä–æ–º', false);
            }
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Ç–µ—Å—Ç –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ
        window.addEventListener('load', () => {
            testServiceWorker();
        });
    </script>

    <div class="test-section">
        <h2>üìù –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è</h2>
        <ol>
            <li><strong>–ú–æ–±—ñ–ª—å–Ω–µ –º–µ–Ω—é:</strong> –í—ñ–¥–∫—Ä–∏–π—Ç–µ –≥–æ–ª–æ–≤–Ω—É —Å—Ç–æ—Ä—ñ–Ω–∫—É —ñ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å ‚ò∞ (—Ç—Ä–∏ –ª—ñ–Ω—ñ—ó)</li>
            <li><strong>PWA –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è:</strong> –í –∞–¥—Ä–µ—Å–Ω–æ–º—É —Ä—è–¥–∫—É –º–∞—î –∑'—è–≤–∏—Ç–∏—Å—è —ñ–∫–æ–Ω–∫–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è</li>
            <li><strong>–ù–∞–≤—ñ–≥–∞—Ü—ñ—è:</strong> –°–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Ä—ñ–∑–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏</li>
            <li><strong>–û—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º:</strong> –í—ñ–¥–∫–ª—é—á—ñ—Ç—å —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç —ñ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Å—Ç–æ—Ä—ñ–Ω–∫—É</li>
        </ol>
        
        <h3>üîß –Ø–∫—â–æ —â–æ—Å—å –Ω–µ –ø—Ä–∞—Ü—é—î:</h3>
        <ul>
            <li>–û—á–∏—Å—Ç—ñ—Ç—å –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+Shift+R)</li>
            <li>–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)</li>
            <li>–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å —â–æ JavaScript —É–≤—ñ–º–∫–Ω–µ–Ω–∏–π</li>
            <li>–°–ø—Ä–æ–±—É–π—Ç–µ —ñ–Ω—à–∏–π –±—Ä–∞—É–∑–µ—Ä</li>
        </ul>
    </div>

    <div class="test-section">
        <h2>üåê –ü–æ—Å–∏–ª–∞–Ω–Ω—è</h2>
        <p>
            <a href="../index.html" style="color: #4CAF50;">‚Üê –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –Ω–∞ –≥–æ–ª–æ–≤–Ω—É</a> |
            <a href="https://izenapp.github.io/AssistentNUOS/" style="color: #4CAF50;">üåç –ñ–∏–≤–∏–π —Å–∞–π—Ç</a>
        </p>
    </div>
</body>
</html>
